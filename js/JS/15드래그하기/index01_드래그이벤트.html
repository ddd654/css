<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<style>
  .box {
    width: 100px;
    height: 100px;
    border: 1px solid dodgerblue;

  }

  .container {
    width: 300px;
    height: 300px;
    border: 1px solid rebeccapurple;
    overflow: auto;

  }
</style>

<body>

  <!-- draggable을 넣으면 드래그를 할 수 있다 -->
  <div class="box" draggable="true">사과</div>

  <div class="container">
    여기에 메뉴를 올리세요
  </div>

  <script>
    //////////////////////////////////드래그할 대상/////////////////////////////////////////
    // dragstart
    // 1. 사용자가 객체(object)를 드래그하려고 시작할 때 발생함.
    // drag
    // 2. 대상 객체를 드래그하면서 마우스를 움직일 때 발생함.
    // dragend
    // 7. 대상 객체를 드래그하다가 마우스 버튼을 놓는 순간 발생함.


    //////////////////////////////////드래그 목표 타겟에 적용하는 이벤트/////////////////////////////////////////
    // dragover
    // 4. 드래그하면서 마우스가 대상 객체의 영역 위에 자리 잡고 있을 때 발생함.
    // drop
    // 5. 드래그가 끝나서 드래그하던 객체를 놓는 장소에 위치한 객체에서 발생함. 리스너는 드래그된 데이터를 가져와서 드롭 위치에 놓는 역할을 함
    // dragleave
    // 6. 드래그가 끝나서 마우스가 대상 객체의 위에서 벗어날 때 발생함.
    // dragenter
    // 3. 마우스가 대상 객체의 위로 처음 진입할 때 발생함.


    var box = document.querySelector(".box");

    //드래그 대상 함수들
    // box.addEventListener("dragstart", function() {
    //   console.log("드래그를 시작할때 동작");
    // })

    // box.addEventListener("drag", function () {
    //   console.log("드래그 도중에 동작하는 drag");
    // })

    // box.addEventListener("dragend", function(){
    //   console.log("드래그 끝날때 실행되는 dragend");
    // })


    var container = document.querySelector(".container");

    //타겟용 함수 써보기
    // container.addEventListener("dragenter", function() {
    //   console.log("드래그 요소가 이 영역에 닿으면 동작하는 이벤트 dragenter");
    // })

    container.addEventListener("dragover", function () {
      event.preventDefault(); //기본 이벤트 중단 // 드랍 이벤트 안되서 막음
      //태그나 파일을 드롭할때 브라우저가 자동으로 open하려는 기본이벤트가 있었다 << 이걸 중단



      console.log("드래그 요소가 영역안에 머무르고 있을때 실행되는 dragover");
    })

    container.addEventListener("dragleave", function () {
      console.log("드래그 대상이 떠날때 실행되는 dragleave");
    })

    container.addEventListener("drop", function () {
      console.log("드래그 대상을 drop할때의 이벤트");

      //드롭하면 이 위치로 옮기겠다
      container.appendChild(box);
    })

    var clone = null;

    box.addEventListener("dragstart", function () {
      console.log("드래그를 시작할때 동작");

      clone = box.cloneNode(true); //true 이면 자식을 포함한 새로운 노드

      container.appendChild(clone); // container에 clone을 추가한다
    })

  </script>
</body>

</html>