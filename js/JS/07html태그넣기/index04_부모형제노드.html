<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    table {
      border-spacing: 0;
      border-collapse: collapse;
    }

    thead th,
    tbody td {
      border: 1px solid black;
    }
  </style>
</head>

<body>

  <table>

    <thead>
      <tr>
        <th>이동</th>
        <th>번호</th>
        <th>이름</th>
        <th>내용</th>
        <th>날짜</th>
      </tr>
    </thead>

    <tbody class="table">
      <tr>
        <td><button onclick="down(this)">↓</button><button onclick="up(this)">↑</button></td>
        <td>1</td>
        <td>홍길자</td>
        <td>안녕!</td>
        <td>2019-01-01</td>
      </tr>
      <tr>
        <td><button onclick="down(this)">↓</button><button onclick="up(this)">↑</button></td>
        <td>2</td>
        <td>이순신</td>
        <td>반가워</td>
        <td>2019-02-01</td>
      </tr>
      <tr>
        <td><button onclick="down(this)">↓</button><button onclick="up(this)">↑</button></td>
        <td>3</td>
        <td>이순신</td>
        <td>반가워</td>
        <td>2019-02-01</td>
      </tr>
      <tr>
        <td><button onclick="down(this)">↓</button><button onclick="up(this)">↑</button></td>
        <td>4</td>
        <td>이순신</td>
        <td>반가워</td>
        <td>2019-02-01</td>
      </tr>
      <tr>
        <td><button onclick="down(this)">↓</button><button onclick="up(this)">↑</button></td>
        <td>5</td>
        <td>이순신</td>
        <td>반가워</td>
        <td>2019-02-01</td>
      </tr>
    </tbody>

  </table>

  <script>
    function down(node) {

      // console.log(node);
      // console.log(node.parentElement); //td를 가리킴, 버튼에서 위 부모

      // console.log(node.nextElementSiling); // 버튼에서 다음 형제
      // console.log(node.nextSiling); //다음 형제인데, 공백이 있으면 공백이 출력된다

      // console.log(node.previousElementSibling); //이전형제

      // console.log(node.parentElement.parentElement.firstElementChild); //tr의 첫째
      // console.log(node.parentElement.parentElement.lastElementChild); //tr의 마지막

      // console.log(node.parentElement.parentElement.children); //tr의 자식들
      // console.dir(node); // 까먹은 속성 보기
      

      //------------------------------
      var table =document.querySelector(".table");
      //현재 노드
      var current = node.parentElement.parentElement 
      
      var next =current.nextElementSibling;

      

      if(next == null){
        alert("마지막 행입니다")
        return;
      }

      //부모에서.insertBefore(옯길노드를, 지금노드에);
      table.insertBefore(next, current);
    }


    //업버튼

    function up(node) {
      var table = document.querySelector(".table");
      var current = node.parentElement.parentElement;
      var previous = current.previousElementSibling;

      if(previous == null){
        alert("맨 윗줄입니다")
        return;
      }
      table.insertBefore(current, previous );


    }

  </script>

</body>

</html>